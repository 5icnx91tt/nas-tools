{% import 'macro/svg.html' as SVG %}
<div class="container-xl">
  <!-- Page title -->
  <div class="page-header d-print-none">
    <div class="row align-items-center">
      <div class="col">
        <h2 class="page-title">
          豆瓣
        </h2>
      </div>
    </div>
  </div>
</div>
<!-- 业务页面代码 -->
<div class="page-body">
  <div class="container-xl">
    <div class="row row-cards">
      <div class="col-md-12">
        <div class="card" id="config_douban">
          <div class="card-body">
            <div class="row">
              <div class="col-xl-3">
                <div class="mb-3">
                  <label class="form-label required">豆瓣用户ID <span class="form-help"
                                                                      title=""
                                                                      data-bs-toggle="tooltip">?</span></label>
                  <input type="text" value="{% if Config.douban.user %}{{ Config.douban.user}}{% endif %}"
                         class="form-control" id="douban.user" placeholder="用户1" autocomplete="off">
                </div>
              </div>
            <div class="row">
              <div class="col-12">
                <div class="mb-3">
                  <label class="form-label required">豆瓣Cookie <span class="form-help"
                                                                      title="部分电影需要配置Cookie才能同步到数据"
                                                                      data-bs-toggle="tooltip">?</span></label>
                  <input type="text" value="{{ Config.douban.cookie or '' }}" class="form-control" id="douban.cookie"
                         placeholder="" autocomplete="off">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="card-footer">
           <div class="row align-items-center">
            <div class="col"></div>
              <div class="col-auto">
                <a id="douban_save_btn" href="javascript:save_douban_config()" class="btn btn-primary">
                  保存
                </a>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  // 保存设置
  function save_douban_config() {
    const params = input_select_GetVal("config_douban");
    $("#douban_save_btn").attr("disabled", true).text("保存中...");
    ajax_post("update_config", params, function (ret) {
      $("#douban_save_btn").attr("disabled", false).text("保存");
    });
  }
</script>